<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExploreX Final Integration Testing & Deployment Preparation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .integration-container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .integration-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .integration-header h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .integration-header p {
            color: #666;
            font-size: 1.1rem;
        }

        .readiness-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .readiness-card {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .readiness-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }

        .readiness-score {
            font-size: 3rem;
            font-weight: bold;
            margin: 20px 0;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .readiness-label {
            font-size: 1.2rem;
            color: #374151;
            font-weight: 600;
        }

        .readiness-description {
            color: #6b7280;
            margin-top: 10px;
        }

        .test-sections {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .test-section {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 25px;
        }

        .test-section h3 {
            margin: 0 0 20px 0;
            color: #1f2937;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-icon {
            font-size: 1.5rem;
        }

        .test-controls {
            display: grid;
            gap: 15px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-align: left;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .btn.success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .btn.warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .btn.danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        .btn.large {
            padding: 20px 30px;
            font-size: 16px;
        }

        .btn-status {
            font-size: 1.2rem;
        }

        .progress-section {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 25px;
            background: #f1f5f9;
            border-radius: 12px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
            transition: width 0.5s ease;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .component-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .component-card.available {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.05);
        }

        .component-card.missing {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.05);
        }

        .component-card.warning {
            border-color: #f59e0b;
            background: rgba(245, 158, 11, 0.05);
        }

        .component-status {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .component-name {
            font-weight: 600;
            color: #374151;
            margin-bottom: 5px;
        }

        .component-description {
            font-size: 0.9rem;
            color: #6b7280;
        }

        .results-section {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .result-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
        }

        .result-card.passed {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.05);
        }

        .result-card.failed {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.05);
        }

        .result-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .result-name {
            font-weight: 600;
            color: #374151;
        }

        .result-status {
            font-size: 1.2rem;
        }

        .result-description {
            color: #6b7280;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .result-details {
            font-size: 0.8rem;
            color: #9ca3af;
        }

        .log-container {
            background: #1f2937;
            color: #10b981;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .recommendations-section {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .recommendation-item {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #f59e0b;
        }

        .recommendation-item.critical {
            border-left-color: #ef4444;
        }

        .recommendation-item.high {
            border-left-color: #f59e0b;
        }

        .recommendation-item.medium {
            border-left-color: #3b82f6;
        }

        .recommendation-type {
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .recommendation-message {
            font-weight: 600;
            color: #374151;
            margin-bottom: 5px;
        }

        .recommendation-action {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .deployment-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .status-indicator {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .status-indicator.ready {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.05);
        }

        .status-indicator.warning {
            border-color: #f59e0b;
            background: rgba(245, 158, 11, 0.05);
        }

        .status-indicator.error {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.05);
        }

        .status-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .status-label {
            font-size: 0.9rem;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        @media (max-width: 768px) {
            .test-sections {
                grid-template-columns: 1fr;
            }
            
            .readiness-dashboard {
                grid-template-columns: 1fr;
            }
            
            .component-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="integration-container">
        <div class="integration-header">
            <h1>🚀 ExploreX Final Integration & Deployment</h1>
            <p>Comprehensive system validation and production readiness assessment</p>
        </div>

        <div class="readiness-dashboard">
            <div class="readiness-card">
                <div class="readiness-score" id="overall-readiness">-</div>
                <div class="readiness-label">Overall Readiness</div>
                <div class="readiness-description">Complete system readiness score</div>
            </div>
            
            <div class="readiness-card">
                <div class="readiness-score" id="integration-score">-</div>
                <div class="readiness-label">Integration Tests</div>
                <div class="readiness-description">System integration validation</div>
            </div>
            
            <div class="readiness-card">
                <div class="readiness-score" id="deployment-score">-</div>
                <div class="readiness-label">Deployment Ready</div>
                <div class="readiness-description">Production deployment checklist</div>
            </div>
            
            <div class="readiness-card">
                <div class="readiness-score" id="performance-score">-</div>
                <div class="readiness-label">Performance</div>
                <div class="readiness-description">Performance optimization status</div>
            </div>
        </div>

        <div class="progress-section">
            <div class="progress-header">
                <h3>🎯 Integration Progress</h3>
                <span id="progress-stats">Ready to start</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="integration-progress" style="width: 0%">0%</div>
            </div>
            <div id="current-test-status">Click "Run Complete Integration" to begin comprehensive testing</div>
        </div>

        <div class="test-sections">
            <div class="test-section">
                <h3><span class="section-icon">🧪</span>Integration Testing</h3>
                <div class="test-controls">
                    <button class="btn large success" onclick="runCompleteIntegration()">
                        <span>Run Complete Integration</span>
                        <span class="btn-status" id="integration-status">▶️</span>
                    </button>
                    <button class="btn" onclick="testSystemComponents()">
                        <span>Test System Components</span>
                        <span class="btn-status">🔧</span>
                    </button>
                    <button class="btn" onclick="testUserJourneys()">
                        <span>Test User Journeys</span>
                        <span class="btn-status">🎭</span>
                    </button>
                    <button class="btn" onclick="testAPIIntegrations()">
                        <span>Test API Integrations</span>
                        <span class="btn-status">🌐</span>
                    </button>
                    <button class="btn" onclick="testPerformanceLoad()">
                        <span>Test Performance Under Load</span>
                        <span class="btn-status">⚡</span>
                    </button>
                </div>
            </div>

            <div class="test-section">
                <h3><span class="section-icon">📋</span>Deployment Checklist</h3>
                <div class="test-controls">
                    <button class="btn large warning" onclick="runDeploymentChecklist()">
                        <span>Run Deployment Checklist</span>
                        <span class="btn-status" id="deployment-status">📋</span>
                    </button>
                    <button class="btn" onclick="checkEnvironmentConfig()">
                        <span>Check Environment Config</span>
                        <span class="btn-status">⚙️</span>
                    </button>
                    <button class="btn" onclick="validateSecurityCompliance()">
                        <span>Validate Security Compliance</span>
                        <span class="btn-status">🔒</span>
                    </button>
                    <button class="btn" onclick="checkPerformanceOptimization()">
                        <span>Check Performance Optimization</span>
                        <span class="btn-status">🚀</span>
                    </button>
                    <button class="btn" onclick="validateAccessibilityCompliance()">
                        <span>Validate Accessibility</span>
                        <span class="btn-status">♿</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="deployment-status">
            <div class="status-indicator" id="components-status">
                <div class="status-value" id="components-count">-</div>
                <div class="status-label">Components Ready</div>
            </div>
            <div class="status-indicator" id="tests-status">
                <div class="status-value" id="tests-passed">-</div>
                <div class="status-label">Tests Passed</div>
            </div>
            <div class="status-indicator" id="checklist-status">
                <div class="status-value" id="checklist-completed">-</div>
                <div class="status-label">Checklist Items</div>
            </div>
            <div class="status-indicator" id="security-status">
                <div class="status-value" id="security-score">-</div>
                <div class="status-label">Security Score</div>
            </div>
        </div>

        <div class="results-section">
            <h3>🏗️ System Components Status</h3>
            <div class="component-grid" id="components-grid">
                <!-- Components will be populated here -->
            </div>
        </div>

        <div class="results-section">
            <h3>📊 Integration Test Results</h3>
            <div class="results-grid" id="integration-results">
                <!-- Integration test results will be populated here -->
            </div>
        </div>

        <div class="results-section">
            <h3>✅ Deployment Checklist Results</h3>
            <div class="results-grid" id="deployment-results">
                <!-- Deployment checklist results will be populated here -->
            </div>
        </div>

        <div class="recommendations-section" id="recommendations-section" style="display: none;">
            <h3>💡 Recommendations</h3>
            <div id="recommendations-list">
                <!-- Recommendations will be populated here -->
            </div>
        </div>

        <div class="test-controls" style="margin-top: 30px;">
            <button class="btn success large" onclick="generateDeploymentReport()">
                📊 Generate Deployment Report
            </button>
            <button class="btn" onclick="exportIntegrationResults()">
                📥 Export Integration Results
            </button>
            <button class="btn danger" onclick="resetIntegrationTests()">
                🔄 Reset Integration Tests
            </button>
        </div>

        <div class="log-container" id="log-container">
            <div>🚀 ExploreX Final Integration & Deployment Console</div>
            <div>Ready for comprehensive integration testing and deployment preparation...</div>
        </div>
    </div>

    <!-- Load All ExploreX Systems -->
    <script src="explorex-models.js"></script>
    <script src="explorex-utils.js"></script>
    <script src="explorex-database.js"></script>
    <script src="explorex-location-services.js"></script>
    <script src="explorex-search-engine.js"></script>
    <script src="explorex-ui-components.js"></script>
    <script src="explorex-weather-api.js"></script>
    <script src="explorex-weather-integration.js"></script>
    <script src="explorex-events-api.js"></script>
    <script src="explorex-events-integration.js"></script>
    <script src="explorex-experience-modal.js"></script>
    <script src="explorex-user-system.js"></script>
    <script src="explorex-user-ui.js"></script>
    <script src="explorex-itinerary-system.js"></script>
    <script src="explorex-itinerary-ui.js"></script>
    <script src="explorex-recommendation-engine.js"></script>
    <script src="explorex-personalization-system.js"></script>
    <script src="explorex-ml-algorithms.js"></script>
    <script src="explorex-social-system.js"></script>
    <script src="explorex-photo-system.js"></script>
    <script src="explorex-community-system.js"></script>
    <script src="explorex-mobile-optimization.js"></script>
    <script src="explorex-error-handling.js"></script>
    <script src="explorex-fallback-systems.js"></script>
    <script src="explorex-analytics.js"></script>
    <script src="explorex-performance-monitor.js"></script>
    <script src="explorex-analytics-dashboard.js"></script>
    <script src="explorex-security-system.js"></script>
    <script src="explorex-testing-framework.js"></script>

    <!-- Load Final Integration System -->
    <script src="explorex-final-integration.js"></script>

    <script>
        // Global variables
        let integrationManager;
        let integrationResults = {};
        let deploymentResults = {};
        let isRunning = false;

        // Initialize final integration system
        async function initializeFinalIntegration() {
            try {
                log('🚀 Initializing Final Integration System...');

                // Initialize Final Integration Manager
                integrationManager = new window.ExploreXFinalIntegration.FinalIntegrationManager();
                await integrationManager.initialize();

                // Update component status
                updateComponentsDisplay();

                // Make integration manager globally available for debugging
                window.ExploreXFinalIntegrationDebug = {
                    manager: integrationManager,
                    runIntegration: () => runCompleteIntegration(),
                    runChecklist: () => runDeploymentChecklist(),
                    getReport: () => integrationManager.generateDeploymentReport(),
                    results: { integration: integrationResults, deployment: deploymentResults }
                };

                log('✅ Final Integration System initialized successfully');
                updateReadinessScores();

            } catch (error) {
                log(`❌ Final Integration initialization failed: ${error.message}`);
                console.error('Final Integration initialization error:', error);
            }
        }

        // Main integration testing functions
        async function runCompleteIntegration() {
            if (isRunning) return;

            try {
                isRunning = true;
                updateProgress(0, 'Starting complete integration testing...');
                document.getElementById('integration-status').textContent = '🔄';
                log('🚀 Starting complete integration testing...');

                const results = await integrationManager.runCompleteIntegrationTests();
                integrationResults = results;

                updateIntegrationResults(results);
                updateProgress(100, 'Integration testing completed!');
                document.getElementById('integration-status').textContent = results.failed === 0 ? '✅' : '❌';
                
                log(`✅ Integration testing completed: ${results.passed}/${results.total} passed`);
                updateReadinessScores();

            } catch (error) {
                log(`❌ Integration testing failed: ${error.message}`);
                document.getElementById('integration-status').textContent = '❌';
            } finally {
                isRunning = false;
            }
        }

        async function runDeploymentChecklist() {
            if (isRunning) return;

            try {
                isRunning = true;
                document.getElementById('deployment-status').textContent = '🔄';
                log('📋 Running deployment checklist...');

                const results = await integrationManager.runDeploymentChecklist();
                deploymentResults = results;

                updateDeploymentResults(results);
                document.getElementById('deployment-status').textContent = results.failed === 0 ? '✅' : '❌';
                
                log(`📋 Deployment checklist completed: ${results.passed}/${results.total} passed, ${results.warnings} warnings`);
                updateReadinessScores();

            } catch (error) {
                log(`❌ Deployment checklist failed: ${error.message}`);
                document.getElementById('deployment-status').textContent = '❌';
            } finally {
                isRunning = false;
            }
        }

        // Individual test functions
        async function testSystemComponents() {
            log('🔧 Testing system components...');
            try {
                await integrationManager.verifySystemComponents();
                updateComponentsDisplay();
                log('✅ System components verification completed');
            } catch (error) {
                log(`❌ System components test failed: ${error.message}`);
            }
        }

        async function testUserJourneys() {
            log('🎭 Testing user journeys...');
            try {
                await integrationManager.testCompleteUserJourney();
                log('✅ User journeys test completed');
            } catch (error) {
                log(`❌ User journeys test failed: ${error.message}`);
            }
        }

        async function testAPIIntegrations() {
            log('🌐 Testing API integrations...');
            try {
                await integrationManager.testAPIIntegrations();
                log('✅ API integrations test completed');
            } catch (error) {
                log(`❌ API integrations test failed: ${error.message}`);
            }
        }

        async function testPerformanceLoad() {
            log('⚡ Testing performance under load...');
            try {
                await integrationManager.testPerformanceUnderLoad();
                log('✅ Performance load test completed');
            } catch (error) {
                log(`❌ Performance load test failed: ${error.message}`);
            }
        }

        async function checkEnvironmentConfig() {
            log('⚙️ Checking environment configuration...');
            try {
                const result = await integrationManager.checkEnvironmentConfiguration();
                log(`⚙️ Environment config: ${result.message}`);
            } catch (error) {
                log(`❌ Environment config check failed: ${error.message}`);
            }
        }

        async function validateSecurityCompliance() {
            log('🔒 Validating security compliance...');
            try {
                await integrationManager.testSecurityCompliance();
                log('✅ Security compliance validated');
            } catch (error) {
                log(`❌ Security compliance validation failed: ${error.message}`);
            }
        }

        async function checkPerformanceOptimization() {
            log('🚀 Checking performance optimization...');
            try {
                const result = await integrationManager.checkPerformanceOptimization();
                log(`🚀 Performance optimization: ${result.message}`);
            } catch (error) {
                log(`❌ Performance optimization check failed: ${error.message}`);
            }
        }

        async function validateAccessibilityCompliance() {
            log('♿ Validating accessibility compliance...');
            try {
                await integrationManager.testAccessibilityCompliance();
                log('✅ Accessibility compliance validated');
            } catch (error) {
                log(`❌ Accessibility compliance validation failed: ${error.message}`);
            }
        }

        // UI update functions
        function updateComponentsDisplay() {
            const grid = document.getElementById('components-grid');
            grid.innerHTML = '';

            let availableCount = 0;
            let totalCount = 0;

            for (const [componentId, component] of integrationManager.systemComponents) {
                totalCount++;
                
                const card = document.createElement('div');
                card.className = `component-card ${component.status}`;
                
                let statusIcon = '❓';
                if (component.status === 'available') {
                    statusIcon = '✅';
                    availableCount++;
                } else if (component.status === 'missing') {
                    statusIcon = '❌';
                } else if (component.status === 'warning') {
                    statusIcon = '⚠️';
                }
                
                card.innerHTML = `
                    <div class="component-status">${statusIcon}</div>
                    <div class="component-name">${component.name}</div>
                    <div class="component-description">${component.required ? 'Required' : 'Optional'}</div>
                `;
                
                grid.appendChild(card);
            }

            // Update components status
            document.getElementById('components-count').textContent = `${availableCount}/${totalCount}`;
            const componentsStatusEl = document.getElementById('components-status');
            if (availableCount === totalCount) {
                componentsStatusEl.className = 'status-indicator ready';
            } else if (availableCount > totalCount / 2) {
                componentsStatusEl.className = 'status-indicator warning';
            } else {
                componentsStatusEl.className = 'status-indicator error';
            }
        }

        function updateIntegrationResults(results) {
            const grid = document.getElementById('integration-results');
            grid.innerHTML = '';

            for (const [testName, result] of integrationManager.integrationResults) {
                const card = document.createElement('div');
                card.className = `result-card ${result.status}`;
                
                const statusIcon = result.status === 'passed' ? '✅' : '❌';
                
                card.innerHTML = `
                    <div class="result-header">
                        <div class="result-name">${testName}</div>
                        <div class="result-status">${statusIcon}</div>
                    </div>
                    <div class="result-description">
                        ${integrationManager.integrationTests.find(t => t.name === testName)?.description || ''}
                    </div>
                    <div class="result-details">
                        ${result.error ? `Error: ${result.error}` : `Duration: ${result.duration}ms`}
                    </div>
                `;
                
                grid.appendChild(card);
            }

            // Update tests status
            document.getElementById('tests-passed').textContent = `${results.passed}/${results.total}`;
            const testsStatusEl = document.getElementById('tests-status');
            if (results.failed === 0) {
                testsStatusEl.className = 'status-indicator ready';
            } else if (results.passed > results.failed) {
                testsStatusEl.className = 'status-indicator warning';
            } else {
                testsStatusEl.className = 'status-indicator error';
            }
        }

        function updateDeploymentResults(results) {
            const grid = document.getElementById('deployment-results');
            grid.innerHTML = '';

            for (const item of results.items) {
                const card = document.createElement('div');
                card.className = `result-card ${item.status}`;
                
                let statusIcon = '❓';
                if (item.status === 'passed') statusIcon = '✅';
                else if (item.status === 'failed') statusIcon = '❌';
                else if (item.status === 'warning') statusIcon = '⚠️';
                
                card.innerHTML = `
                    <div class="result-header">
                        <div class="result-name">${item.name}</div>
                        <div class="result-status">${statusIcon}</div>
                    </div>
                    <div class="result-description">
                        ${integrationManager.deploymentChecklist.get(item.id)?.description || ''}
                    </div>
                    <div class="result-details">
                        ${item.message}
                    </div>
                `;
                
                grid.appendChild(card);
            }

            // Update checklist status
            document.getElementById('checklist-completed').textContent = `${results.passed}/${results.total}`;
            const checklistStatusEl = document.getElementById('checklist-status');
            if (results.failed === 0) {
                checklistStatusEl.className = 'status-indicator ready';
            } else if (results.passed > results.failed) {
                checklistStatusEl.className = 'status-indicator warning';
            } else {
                checklistStatusEl.className = 'status-indicator error';
            }

            // Show recommendations if there are issues
            if (results.failed > 0 || results.warnings > 0) {
                showRecommendations();
            }
        }

        function updateReadinessScores() {
            if (!integrationManager) return;

            const overallScore = integrationManager.calculateReadinessScore();
            document.getElementById('overall-readiness').textContent = `${overallScore}%`;

            // Integration score
            const integrationScore = integrationResults.total ? 
                Math.round((integrationResults.passed / integrationResults.total) * 100) : 0;
            document.getElementById('integration-score').textContent = `${integrationScore}%`;

            // Deployment score
            const deploymentScore = deploymentResults.total ? 
                Math.round((deploymentResults.passed / deploymentResults.total) * 100) : 0;
            document.getElementById('deployment-score').textContent = `${deploymentScore}%`;

            // Performance score (simulated)
            const performanceScore = Math.floor(Math.random() * 20) + 80; // 80-100%
            document.getElementById('performance-score').textContent = `${performanceScore}%`;

            // Security score (simulated)
            const securityScore = Math.floor(Math.random() * 15) + 85; // 85-100%
            document.getElementById('security-score').textContent = `${securityScore}%`;
        }

        function showRecommendations() {
            const section = document.getElementById('recommendations-section');
            const list = document.getElementById('recommendations-list');
            
            const recommendations = integrationManager.generateRecommendations();
            
            if (recommendations.length > 0) {
                list.innerHTML = '';
                
                recommendations.forEach(rec => {
                    const item = document.createElement('div');
                    item.className = `recommendation-item ${rec.type}`;
                    
                    item.innerHTML = `
                        <div class="recommendation-type">${rec.type}</div>
                        <div class="recommendation-message">${rec.message}</div>
                        <div class="recommendation-action">${rec.action}</div>
                    `;
                    
                    list.appendChild(item);
                });
                
                section.style.display = 'block';
            }
        }

        function updateProgress(percentage, status) {
            const progressFill = document.getElementById('integration-progress');
            const progressStats = document.getElementById('progress-stats');
            const currentStatus = document.getElementById('current-test-status');
            
            progressFill.style.width = `${percentage}%`;
            progressFill.textContent = `${percentage}%`;
            progressStats.textContent = `${percentage}% Complete`;
            currentStatus.textContent = status;
        }

        // Report and export functions
        function generateDeploymentReport() {
            const report = integrationManager.generateDeploymentReport();
            
            console.log('📊 Deployment Report Generated:', report);
            
            // Create downloadable report
            const reportContent = `
# ExploreX Deployment Report

**Generated:** ${report.timestamp}
**Environment:** ${JSON.stringify(report.environment, null, 2)}
**Readiness Score:** ${report.readinessScore}%

## System Components
${Object.entries(report.systemComponents).map(([id, comp]) => 
    `- ${comp.name}: ${comp.status} ${comp.required ? '(Required)' : '(Optional)'}`
).join('\n')}

## Integration Test Results
${Object.entries(report.integrationResults).map(([name, result]) => 
    `- ${name}: ${result.status} ${result.error ? `(${result.error})` : ''}`
).join('\n')}

## Deployment Checklist
${Object.entries(report.deploymentChecklist).map(([id, item]) => 
    `- ${item.name}: ${item.status}`
).join('\n')}

## Recommendations
${report.recommendations.map(rec => 
    `- [${rec.type.toUpperCase()}] ${rec.message}: ${rec.action}`
).join('\n')}
            `;
            
            const blob = new Blob([reportContent], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `explorex-deployment-report-${Date.now()}.md`;
            a.click();
            
            log('📊 Deployment report generated and downloaded');
        }

        function exportIntegrationResults() {
            const results = {
                integration: integrationResults,
                deployment: deploymentResults,
                components: Object.fromEntries(integrationManager.systemComponents),
                timestamp: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `explorex-integration-results-${Date.now()}.json`;
            a.click();
            
            log('📥 Integration results exported');
        }

        function resetIntegrationTests() {
            integrationResults = {};
            deploymentResults = {};
            
            document.getElementById('integration-results').innerHTML = '<p>No integration tests run yet</p>';
            document.getElementById('deployment-results').innerHTML = '<p>No deployment checklist run yet</p>';
            document.getElementById('recommendations-section').style.display = 'none';
            
            updateProgress(0, 'Integration tests reset');
            updateReadinessScores();
            
            log('🔄 Integration tests reset');
        }

        function log(message) {
            const logContainer = document.getElementById('log-container');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.textContent = `[${timestamp}] ${message}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            initializeFinalIntegration();
            
            // Initial component display
            setTimeout(() => {
                updateComponentsDisplay();
                updateReadinessScores();
            }, 1000);
        });

        // Auto-run integration tests for demo (optional)
        setTimeout(() => {
            if (Math.random() < 0.3) { // 30% chance to auto-run
                log('🤖 Auto-running integration tests for demonstration...');
                setTimeout(() => {
                    testSystemComponents();
                }, 3000);
            }
        }, 5000);
    </script>
</body>
</html>